{% extends "base.html" %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h4>Movimientos de Inventario</h4>
  <a href="{{ url_for('main.nuevo_movimiento') }}" class="btn btn-primary">
    <i class="bi bi-plus-lg"></i> Nuevo Movimiento
  </a>
</div>

<table class="table table-striped align-middle bg-white shadow-sm">
  <thead class="table-light">
    <tr>
      <th>ID</th>
      <th>Producto</th>
      <th>Tipo</th>
      <th>Cantidad</th>
      <th>Fecha</th>
      <th>Observaciones</th>
    </tr>
  </thead>
  <tbody>
    {% for m in movimientos %}
    <tr>
      <td>{{ m.id }}</td>
      <td>{{ m.producto }}</td>
      <td>
        {% if m.tipo == 'Entrada' %}
          <span class="badge bg-success">{{ m.tipo }}</span>
        {% else %}
          <span class="badge bg-danger">{{ m.tipo }}</span>
        {% endif %}
      </td>
      <td>{{ "%.2f"|format(m.cantidad) }}</td>
      <td>{{ m.fecha }}</td>
      <td>{{ m.observaciones }}</td>
    </tr>
    {% else %}
    <tr>
      <td colspan="6" class="text-center">No hay movimientos registrados</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
